<mat-card *ngIf="char; else char_404">
	<mat-card-header>
		<div mat-card-avatar class="char-avatar">{{ char.name }}</div>
		<mat-card-title>Details</mat-card-title>
		<mat-card-subtitle>id: <strong>{{ char.id }}</strong></mat-card-subtitle>
	</mat-card-header>
	<mat-card-content>
		<mat-expansion-panel>
			<mat-expansion-panel-header>
				<mat-panel-title *ngIf="char.locations">Locations</mat-panel-title>
			</mat-expansion-panel-header>
			<ul *ngFor="let location of char.locations">
				<li>in <strong>{{ location.source.title }}</strong> on page <strong>{{ location.page }}</strong></li>
			</ul>
		</mat-expansion-panel>
		<h3 *ngIf="char.altchars">Historical Forms</h3>
		<div *ngFor="let altchar of char.altchars">
			<img src="{{ altchar.image }}">
		</div>
		<mat-form-field>
		  <mat-select placeholder="Select source" [(value)]="selectedLocation">
		    <mat-option *ngFor="let location of char.locations" [value]="location">
		      {{ location.source.title }}
		    </mat-option>
		  </mat-select>
		</mat-form-field>

	</mat-card-content>
	<mat-card-actions>
			<button mat-button color="primary" (click)="save()">Save</button>
			<button mat-button color="warn">Delete</button>
	</mat-card-actions>
</mat-card>
<mat-card *ngIf="selectedLocation">
	<mat-card-header>
		<mat-card-title>Source browser</mat-card-title>
	</mat-card-header>
	<mat-card-content>
		page {{ selectedLocation.page }} in {{ selectedLocation.source.title }}
		<a href="{{ selectedLocation.source.file }}">{{ selectedLocation.source.file }}</a>
	</mat-card-content>
</mat-card>
<ng-template #char_404>
	<h2>Char not found</h2>
</ng-template>