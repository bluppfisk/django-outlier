<mat-card *ngIf="editing == false" class="altCharcard">
	<mat-card-header>
		<img mat-card-avatar src="{{ altChar.image }}">
		<mat-card-title>{{ altChar.name }}</mat-card-title>
		<mat-card-subtitle>{{ altChar.sequence_no }}</mat-card-subtitle>
	</mat-card-header>
	<mat-card-content>
		<p>In {{ altChar.source.title }} on p. {{ altChar.page }}</p>
		<p>{{ altChar.source_obj }}</p>
	</mat-card-content>
	<mat-divider></mat-divider>
	<mat-card-actions>
		<button mat-button color="primary" (click)="edit()">Edit</button>
		<button mat-button color="warn" (click)="deleteAltChar()">Delete</button>
	</mat-card-actions>
</mat-card>

<mat-card class="altCharcard" *ngIf="editing">
	<form (ngSubmit)="addAltChar()" #newaltChar="ngForm">
		<mat-card-header>
			<div mat-card-avatar style="display: inline-block;" (paste)="pasteImage($event)">
				<img mat-card-avatar src="{{ altChar.image }}" class="glue64_preview" style="pointer-events: none">
			</div>
			<mat-card-title><mat-form-field><input matInput [(ngModel)]="altChar.name" name="name" placeholder="Name"></mat-form-field></mat-card-title>
			<mat-card-subtitle><mat-form-field><input matInput [(ngModel)]="altChar.sequence_no" name="sequence_no" placeholder="Sequence no."></mat-form-field></mat-card-subtitle>
		</mat-card-header>
		<mat-card-content>
			<mat-form-field>
			  <mat-select matInput placeholder="Select location" [(ngModel)]="altChar.source.id" name="source" (selectionChange)="locationChanged($event.value)">
			    <mat-option *ngFor="let location of char.locations" [value]="location">
			      {{ location.source.title }} (p. {{ location.page }})
			    </mat-option>
			  </mat-select>
			</mat-form-field>
			<mat-form-field>
				<input matInput [(ngModel)]="altChar.page" name="page" placeholder="page">
			</mat-form-field>
			<mat-form-field>
				<input matInput [(ngModel)]="altChar.source_obj" name="source_obj" placeholder="Source Object">
			</mat-form-field>
		</mat-card-content>
		<mat-divider></mat-divider>
		<mat-card-actions>
			<button *ngIf="altChar.id == null" mat-button type="submit" color="primary">Add</button>
			<button *ngIf="altChar.id != null" mat-button type="submit" color="primary">Save</button>
			<button *ngIf="altChar.id != null" mat-button type="button" (click)="cancelEdit()" color="primary">Cancel</button>
		</mat-card-actions>
	</form>
</mat-card>